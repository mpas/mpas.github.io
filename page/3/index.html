<!DOCTYPE html>
<html lang="en-US">
<head>
  
  
  <meta charset="utf-8">
  <title>CodeVerse - CodeVerse</title>
  <meta name="description" content="">
  <meta name="author" content="Marco Pas">

  <meta name="generator" content="" />
  <meta name="robots" content="index,follow">

  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-180712180-1', 'auto');
	
	ga('send', 'pageview');
}
</script>


  
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  
  
  <link rel="stylesheet" href="/skeleton/normalize.css">
  <link rel="stylesheet" href="/skeleton/skeleton.css">
  
  
  <link rel="stylesheet" href="/fontawesome/all.min.css">
 
  
  <script src="/prism/prism.js"></script>
  <link rel="stylesheet" href="/prism/prism.css">
  
  
  <link rel="stylesheet" href="/css/custom.css">
  
  
  <link rel="icon" type="image/png" href="/images/favicon.png">

</head>

<div class="container">
    <div id="header">
        <div class="row">
            <div class="six columns">
                <div id="brand">
                    <a href="http://mpas.github.io">CodeVerse</a>
                </div>
            </div>
            <div class="six columns">
                <nav class="u-pull-right">
                    <ul id="navbar">
                        
                        
                            <li class="current">
                                <a href="/">Blog</a></li>
                        
                            <li >
                                <a href="/posts">Post List</a></li>
                        
                            <li >
                                <a href="/pages/about/">About Me</a></li>
                        
                            <li >
                                <a href="/pages/resume">Resume</a></li>
                        
                    </ul>
                </nav>
            </div>
        </div>
    </div>
</div>


<div class="container">
    <div class="row">
        <div class="post-list">
            
            
                
                <article class="post u-cf">
    <div class="row">
        <div class="twelve columns">
            <h1 class="post-title">Functional Rest API Testing with Grails/Rest Client Builder</h1>
        </div>
    </div>
    <div class="row">
        <div class="twelve columns">
            <p>Functional Rest API testing with Grails is easy and fun. We will be creating a simple Rest Controller and test it using Spock and Rest Client Builder.</p>
<p>When running the functional test a real container will be started on a specific port and tests are run against the running container. Just as it should be.</p>
<p><strong>Scenario:</strong><br>
Performing a GET request on a url (http://localhost:8080/helloworld) should return a <code>HTTP Status 200</code> and data with a json payload</p>
<div class="highlight"><pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span><span class="nt">&#34;message&#34;</span><span class="p">:</span><span class="s2">&#34;helloworld&#34;</span><span class="p">}</span>
</code></pre></div><p>So lets get started!</p>
<p><strong>Create a Grails application</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ grails create-app RestHelloWorld
</code></pre></div><p><strong>Update your <code>build.gradle</code> to include the Rest Client Builder dependencies which we will need later on</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-groovy" data-lang="groovy"><span class="n">dependencies</span> <span class="o">{</span>
    <span class="c1">// add the following line to the &#39;dependencies&#39; section
</span><span class="c1"></span>    <span class="n">testCompile</span> <span class="s2">&#34;org.grails:grails-datastore-rest-client:4.0.7.RELEASE&#34;</span>
<span class="o">}</span>
</code></pre></div><p><strong>Create an Integration Test</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">$ grails create-integration-test HelloWorld
</code></pre></div><p><strong>Create a test method inside the integration test</strong></p>
<p>Open up the created HelloWorldControllerSpec inside the <code>/src/integration-test/groovy/resthelloworld/</code> package</p>
<div class="highlight"><pre class="chroma"><code class="language-groovy" data-lang="groovy"><span class="kn">package</span> <span class="n">resthelloworld</span>

<span class="kn">import</span> <span class="nn">grails.test.mixin.integration.Integration</span>
<span class="kn">import</span> <span class="nn">grails.transaction.*</span>
<span class="kn">import</span> <span class="nn">spock.lang.*</span>
<span class="kn">import</span> <span class="nn">grails.plugins.rest.client.RestBuilder</span>
<span class="kn">import</span> <span class="nn">grails.plugins.rest.client.RestResponse</span>

<span class="nd">@Integration</span>
<span class="nd">@Rollback</span>
<span class="kd">class</span> <span class="nc">HelloWorldSpec</span> <span class="kd">extends</span> <span class="n">Specification</span> <span class="o">{</span>

    <span class="kt">def</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kt">def</span> <span class="nf">cleanup</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kt">def</span> <span class="s2">&#34;Ask for a nice HelloWorld&#34;</span><span class="o">()</span> <span class="o">{</span>
        <span class="nl">given:</span>
        <span class="n">RestBuilder</span> <span class="n">rest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RestBuilder</span><span class="o">()</span>

        <span class="nl">when:</span>
        <span class="n">RestResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">rest</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s2">&#34;http://localhost:8080/helloworld/&#34;</span><span class="o">)</span>

        <span class="nl">then:</span>
        <span class="n">response</span><span class="o">.</span><span class="na">status</span> <span class="o">==</span> <span class="mi">200</span>

        <span class="nl">and:</span>
        <span class="n">response</span><span class="o">.</span><span class="na">json</span><span class="o">.</span><span class="na">message</span> <span class="o">==</span> <span class="s2">&#34;helloworld&#34;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p><strong>Run your test</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">$ grails test-app
</code></pre></div><p>Offcourse this will fail as we do not have implement the controller yet.</p>
<p><strong>Create a Rest controller</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">$ cd RestHelloWorld
$ grails create-controller HelloWorld
</code></pre></div><p><strong>Note:</strong> The generation of the controller also create a Unit Test for the controller, default this test will fail. We are going to delete the generated Unit Test as we do not need it now. This test is located under the <code>/src/test/</code> groovy package.</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">$ rm ./src/test/groovy/resthelloworld/HelloWorldControllerSpec.groovy
</code></pre></div><p><strong>Implement the controller function that will return data</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-groovy" data-lang="groovy"><span class="kn">package</span> <span class="n">resthelloworld</span>

<span class="kd">class</span> <span class="nc">HelloWorldController</span> <span class="o">{</span>

    <span class="kt">def</span> <span class="nf">index</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">render</span><span class="o">(</span><span class="nl">status:</span> <span class="mi">200</span><span class="o">,</span> <span class="nl">contentType:</span> <span class="s2">&#34;application/json&#34;</span><span class="o">)</span> <span class="o">{</span>
            <span class="o">[</span><span class="s2">&#34;message&#34;</span> <span class="o">:</span> <span class="s2">&#34;helloworld&#34;</span><span class="o">]</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p><strong>Modify UrlMapping</strong></p>
<p>In order to get our newly generated controller accessible via Rest we need to modify our UrlMappings.</p>
<div class="highlight"><pre class="chroma"><code class="language-groovy" data-lang="groovy"><span class="kd">class</span> <span class="nc">UrlMappings</span> <span class="o">{</span>

    <span class="kd">static</span> <span class="n">mappings</span> <span class="o">=</span> <span class="o">{</span>
        <span class="s2">&#34;/$controller/$action?/$id?(.$format)?&#34;</span><span class="o">{</span>
            <span class="n">constraints</span> <span class="o">{</span>
                <span class="c1">// apply constraints here
</span><span class="c1"></span>            <span class="o">}</span>
        <span class="o">}</span>

        <span class="s2">&#34;/&#34;</span><span class="o">(</span><span class="nl">view:</span><span class="s2">&#34;/index&#34;</span><span class="o">)</span>
        <span class="s2">&#34;500&#34;</span><span class="o">(</span><span class="nl">view:</span><span class="s1">&#39;/error&#39;</span><span class="o">)</span>
        <span class="s2">&#34;404&#34;</span><span class="o">(</span><span class="nl">view:</span><span class="s1">&#39;/notFound&#39;</span><span class="o">)</span>

        <span class="c1">// add the line below
</span><span class="c1"></span>        <span class="s2">&#34;/helloworld/&#34;</span>  <span class="o">(</span><span class="nl">controller:</span> <span class="s2">&#34;helloWorld&#34;</span><span class="o">,</span> <span class="nl">action:</span> <span class="s2">&#34;index&#34;</span><span class="o">,</span> <span class="nl">method:</span> <span class="s2">&#34;GET&#34;</span><span class="o">)</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p><strong>Test your app</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">$ grails test-app
</code></pre></div><p>You should find that your tests are fine now :)</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">$ grails test-app
BUILD SUCCESSFUL

Total time: 2.054 secs
| Tests PASSED
</code></pre></div>
        </div>
    </div>
    <div class="row">
        <div class="twelve columns">
            <div class="post-meta-info">
                Published on 2015-11-19
                <span class="post-meta-info-taxonomy">
                    using tags:
                        <a href="/tags/grails">grails</a>, <a href="/tags/spock">spock</a>, <a href="/tags/rest">rest</a>, <a href="/tags/testing">testing</a>
                </span>
            </div>
        </div>
    </div>
</article>

            
                <article class="post u-cf">
    <div class="row">
        <div class="twelve columns">
            <h1 class="post-title">Using DavMail Gateway as a mail proxy for Microsoft Exchange (OWA)</h1>
        </div>
    </div>
    <div class="row">
        <div class="twelve columns">
            <p>If you find yourself into a situation where you have a need for non Microsoft mail client that needs support for Microsoft Exchange then you are often out of luck. In my case I needed Exchange support for the terrific <a href="http://www.postbox-inc.com">PostBox</a> mail client.</p>
<p>As for now PostBox does not support Microsoft Exhange natively so the hunt starts on how to get Exchange working. As it stands most companies also enable Exchange Web Access (or Outlook Web Access [OWA]) so maybe we can use that to feed our native mail client.</p>
<p>Enter the use of <a href="http://davmail.sourceforge.net/">DavMail</a>!</p>
<h4 id="davmail-gateway">Davmail Gateway</h4>
<p>Davmail is a local mail proxy that can work together with Microsoft Exchange [OWA] in a way that DavMail is actually connecting to a Exchange OWA and your mail client connects to DavMail as a proxy.</p>
<img src="/images/201511/davmail-sequence.png" width="800" class="postimage">
<h4 id="configure-davmail">Configure Davmail</h4>
<p>In order to get DavMail working correctly you need to provide the correct settings so it can use the OWA endpoint.</p>
<img src="/images/201511/davmail-settings-main.png" width="800" class="postimage">
<h4 id="configure-postbox">Configure PostBox</h4>
<p>In order to get PostBox working with DavMail you need to create an outgoing mail server and an account that will use that outgoing mailserver.</p>
<h4 id="configure-postbox---outgoing-mailserver">Configure PostBox - Outgoing mailserver</h4>
<img src="/images/201511/postbox-outgoing-mailserver.png" width="400" class="postimage">
<h4 id="configure-postbox---account-setup">Configure PostBox - Account setup</h4>
<img src="/images/201511/postbox-account-setup.png" width="800" class="postimage">
<h4 id="configure-postbox---identity-setup">Configure PostBox - Identity setup</h4>
<img src="/images/201511/postbox-identity-setup.png" width="800" class="postimage">
<p>Now you are ready to send mail using your PostBox Client using DavMail and OWA.</p>

        </div>
    </div>
    <div class="row">
        <div class="twelve columns">
            <div class="post-meta-info">
                Published on 2015-11-17
                <span class="post-meta-info-taxonomy">
                    using tags:
                        <a href="/tags/davmail">davmail</a>, <a href="/tags/exchange">exchange</a>, <a href="/tags/owa">owa</a>, <a href="/tags/postbox">postbox</a>
                </span>
            </div>
        </div>
    </div>
</article>

            
                <article class="post u-cf">
    <div class="row">
        <div class="twelve columns">
            <h1 class="post-title">Cleaning Grails Domain Objects in a Spock Test</h1>
        </div>
    </div>
    <div class="row">
        <div class="twelve columns">
            <p>Spock is a nice framework to execute integration tests in your Grails application. It may happen that the Spock test actually creates some domain objects and you want to clean them out on everuy single run of your feature test methods.</p>
<p>Spock provides a <code>setup()</code> and <code>cleanup()</code> method.</p>
<p>When you want to remove your domain objects after each feature test has run you can execute the following:</p>
<div class="highlight"><pre class="chroma"><code class="language-groovy" data-lang="groovy"><span class="kt">def</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>

<span class="kt">def</span> <span class="nf">cleanup</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// make sure to clear out the database on after test
</span><span class="c1"></span>        <span class="o">&lt;</span><span class="n">YourDomainObject</span><span class="o">&gt;.</span><span class="na">withNewSession</span> <span class="o">{</span>
            <span class="o">&lt;</span><span class="n">YourDomainObject</span><span class="o">&gt;.</span><span class="na">findAll</span><span class="o">().</span><span class="na">each</span> <span class="o">{</span> <span class="n">it</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="nl">flush:</span> <span class="kc">true</span><span class="o">)</span> <span class="o">}</span>
        <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>We need the <code>.withNewSession</code> because there is no Hibernate session provided in the <code>setup()</code> and <code>cleanup()</code> methods.</p>

        </div>
    </div>
    <div class="row">
        <div class="twelve columns">
            <div class="post-meta-info">
                Published on 2015-10-30
                <span class="post-meta-info-taxonomy">
                    using tags:
                        <a href="/tags/grails">grails</a>, <a href="/tags/spock">spock</a>
                </span>
            </div>
        </div>
    </div>
</article>

            
                <article class="post u-cf">
    <div class="row">
        <div class="twelve columns">
            <h1 class="post-title">Adding WebSocket/Stomp support to a Spring Boot application</h1>
        </div>
    </div>
    <div class="row">
        <div class="twelve columns">
            <p>Adding support for <a href="https://en.wikipedia.org/wiki/WebSocket">WebSockets</a> / <a href="https://en.wikipedia.org/wiki/Streaming_Text_Oriented_Messaging_Protocol">Stomp</a> in a <a href="http://projects.spring.io/spring-boot/">Spring Boot</a> application has never been more easy. You can use WebSockets to receive serverside events or push data to the server using WebSockets.</p>
<p>The following example will enable a server to send messages to a WebSocket/Stomp client.</p>
<ul>
<li>Modify <code>build.gradle</code></li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-groovy" data-lang="groovy"><span class="n">dependencies</span> <span class="o">{</span>
    <span class="n">compile</span><span class="o">(</span><span class="s2">&#34;org.springframework.boot:spring-boot-starter-web&#34;</span><span class="o">)</span>
    <span class="n">compile</span><span class="o">(</span><span class="s2">&#34;org.springframework.boot:spring-boot-starter-websocket&#34;</span><span class="o">)</span>
    <span class="n">compile</span><span class="o">(</span><span class="s2">&#34;org.springframework:spring-messaging&#34;</span><span class="o">)</span>
    <span class="n">testCompile</span><span class="o">(</span><span class="s2">&#34;junit:junit&#34;</span><span class="o">)</span>
<span class="o">}</span>
</code></pre></div><ul>
<li>Create a WebSocket configuration class that holds the configuration</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-groovy" data-lang="groovy"><span class="nd">@Configuration</span>
<span class="nd">@EnableWebSocketMessageBroker</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebSocketConfig</span> <span class="kd">extends</span> <span class="n">AbstractWebSocketMessageBrokerConfigurer</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">registerStompEndpoints</span><span class="o">(</span><span class="n">StompEndpointRegistry</span> <span class="n">registry</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// the endpoint for websocket connections
</span><span class="c1"></span>        <span class="n">registry</span><span class="o">.</span><span class="na">addEndpoint</span><span class="o">(</span><span class="s2">&#34;/stomp&#34;</span><span class="o">).</span><span class="na">withSockJS</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">configureMessageBroker</span><span class="o">(</span><span class="n">MessageBrokerRegistry</span> <span class="n">config</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// use the /topic prefix for outgoing WebSocket communication
</span><span class="c1"></span>        <span class="n">config</span><span class="o">.</span><span class="na">enableSimpleBroker</span><span class="o">(</span><span class="s2">&#34;/topic&#34;</span><span class="o">);</span>

        <span class="c1">// use the /app prefix for others
</span><span class="c1"></span>        <span class="n">config</span><span class="o">.</span><span class="na">setApplicationDestinationPrefixes</span><span class="o">(</span><span class="s2">&#34;/app&#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>Now a client that connects to <code>/stomp</code> endpoint is able to receive WebSocket messages.</p>
<ul>
<li>Create a service that is going to send the data to a WebSocket endpoint</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-groovy" data-lang="groovy"><span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ScheduleTask</span> <span class="o">{</span>

    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="n">SimpMessagingTemplate</span> <span class="n">template</span><span class="o">;</span>

    <span class="c1">// this will send a message to an endpoint on which a client can subscribe
</span><span class="c1"></span>    <span class="nd">@Scheduled</span><span class="o">(</span><span class="n">fixedRate</span> <span class="o">=</span> <span class="mi">5000</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">trigger</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// sends the message to /topic/message
</span><span class="c1"></span>        <span class="k">this</span><span class="o">.</span><span class="na">template</span><span class="o">.</span><span class="na">convertAndSend</span><span class="o">(</span><span class="s2">&#34;/topic/message&#34;</span><span class="o">,</span> <span class="s2">&#34;Date: &#34;</span> <span class="o">+</span> <span class="k">new</span> <span class="n">Date</span><span class="o">());</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div><ul>
<li>Create a client that is able to receive the message</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>WebSocket Stomp Receiving Example<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Messages:<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">ol</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;messages&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">ol</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;//cdn.jsdelivr.net/jquery/1.11.2/jquery.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;//cdn.jsdelivr.net/sockjs/0.3.4/sockjs.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;//cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
        <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">messageList</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&#34;#messages&#34;</span><span class="p">);</span>

            <span class="c1">// defined a connection to a new socket endpoint
</span><span class="c1"></span>            <span class="kd">var</span> <span class="nx">socket</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SockJS</span><span class="p">(</span><span class="s1">&#39;/stomp&#39;</span><span class="p">);</span>

            <span class="kd">var</span> <span class="nx">stompClient</span> <span class="o">=</span> <span class="nx">Stomp</span><span class="p">.</span><span class="nx">over</span><span class="p">(</span><span class="nx">socket</span><span class="p">);</span>

            <span class="nx">stompClient</span><span class="p">.</span><span class="nx">connect</span><span class="p">({</span> <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">frame</span><span class="p">)</span> <span class="p">{</span>
                <span class="c1">// subscribe to the /topic/message endpoint
</span><span class="c1"></span>                <span class="nx">stompClient</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s2">&#34;/topic/message&#34;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
                    <span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
                    <span class="nx">messageList</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&#34;&lt;li&gt;&#34;</span> <span class="o">+</span> <span class="nx">message</span> <span class="o">+</span> <span class="s2">&#34;&lt;/li&gt;&#34;</span><span class="p">);</span>
                <span class="p">});</span>
            <span class="p">});</span>
        <span class="p">});</span>
    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div><p>The whole example project  can be downloaded <a href="https://github.com/mpas/spring-boot-websocket-stomp-server-send-example">https://github.com/mpas/spring-boot-websocket-stomp-server-send-example</a></p>
        </div>
    </div>
    <div class="row">
        <div class="twelve columns">
            <div class="post-meta-info">
                Published on 2015-06-16
                <span class="post-meta-info-taxonomy">
                    using tags:
                        <a href="/tags/spring-boot">spring-boot</a>, <a href="/tags/websocket">websocket</a>
                </span>
            </div>
        </div>
    </div>
</article>

            
                <article class="post u-cf">
    <div class="row">
        <div class="twelve columns">
            <h1 class="post-title">Run a Grails 3 generated Fat Jar file in production mode</h1>
        </div>
    </div>
    <div class="row">
        <div class="twelve columns">
            <p>When creating a Grails WAR/JAR file using:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">$ grails war
</code></pre></div><p>The resulting artifact can be run in production mode using:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">$ java -Dgrails.env=prod -Dserver.port=9000 -jar &lt;name-of-jar-file&gt;.jar
</code></pre></div>
        </div>
    </div>
    <div class="row">
        <div class="twelve columns">
            <div class="post-meta-info">
                Published on 2015-06-11
                <span class="post-meta-info-taxonomy">
                    using tags:
                        <a href="/tags/grails">grails</a>
                </span>
            </div>
        </div>
    </div>
</article>

            
        </div>
    </div>
</div>


<div class="container">
    <div class="row">
        <div class="twelve columns">
        
            <ul class="pager">
            
                <li>
                <a class="button" href="http://mpas.github.io/page/2">&larr; Newer Posts</a>
                </li>
            
            
                <li>
                <a class="button" href="http://mpas.github.io/page/4">Older Posts &rarr;</a>
                </li>
            
            </ul>
        
        </div>
    </div>
</div>

<footer>
    <div class="container">
        <div class="row">
            <div class="twelve columns">
                <div id="social">
                    
                        <a title="Twitter" href="https://twitter.com/marcopas">
                            <i class="fab fa-twitter"></i>
                        </a>
                    
                    
                        <a title="LinkedIn" href="https://www.linkedin.com/in/marcopas">
                            <i class="fab fa-linkedin"></i>
                        </a>
                    
                    
                        <a title="GitHub" href="https://github.com/mpas">
                            <i class="fab fa-github"></i>
                        </a>
                    
                    
                        <a title="StackOverflow" href="http://stackoverflow.com/users/185432/marco">
                            <i class="fab fa-stack-overflow"></i>
                        </a>
                    
                    
                        <a title="Email" href="mailto:marco.pasopas@gmail.com">
                            <i class="far fa-envelope"></i>
                        </a>
                    
            </div>
        </div>

        <div class="row">
            <div class="twelve columns" id="copyright">&copy; 2020 ~ CodeVerse / Powered by <a href="http://gohugo.io/">Hugo</div>
        </div>
    </div>
</footer>
</body>
</html>

