<!DOCTYPE html>
<html lang="en-US">

<head>

    
    <meta charset="utf-8">
    <title>Marco Pas - Marco Pas</title>
    <meta name="description"
        content="">
    <meta name="author" content="Marco Pas">

    <meta name="generator" content="" />
    <meta name="robots" content="index,follow">


    
    
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({ startOnLoad: true });</script>

    <script src="https://unpkg.com/lunr/lunr.js"></script>

    
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-180712180-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" />

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css" />

    
    <link rel="icon" type="image/png" href="/images/favicon.png">

</head>

<body class="has-background-light">
    <div>
    <div class="columns is-mobile" style="height: 10px; padding: 0; margin: 0;">
        <div class="column has-background-black" style="margin: 0; padding: 0;"></div>
        <div class="column has-background-success" style="margin: 0; padding: 0;"></div>
        <div class="column has-background-link" style="margin: 0; padding: 0;"></div>
        <div class="column has-background-warning" style="margin: 0; padding: 0;"></div>
        <div class="column has-background-danger" style="margin: 0; padding: 0;"></div>
        <div class="column has-background-info" style="margin: 0; padding: 0;"></div>
    </div>

    <nav class="navbar has-background-light" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://mpas.github.io">
                MARCO PAS
            </a>
            <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbar">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        <div id="navbar" class="navbar-menu">
            <div class="navbar-start">
                <div class="navbar-start">
                    
                    
                    <a class="navbar-item is-hoverable" href="/">
                        
                        <span class="icon has-text-primary">
                            <i class="fas fa-book has-text-primary"></i>
                        </span>
                        
                        <span>
                            Home
                        </span>
                        
                    <a class="navbar-item is-hoverable" href="/posts">
                        
                        <span class="icon has-text-primary">
                            <i class="fas fa-archive has-text-warning"></i>
                        </span>
                        
                        <span>
                            Archive
                        </span>
                        
                    <a class="navbar-item is-hoverable" href="/tags">
                        
                        <span class="icon has-text-primary">
                            <i class="fas fa-tag has-text-danger"></i>
                        </span>
                        
                        <span>
                            Tags
                        </span>
                        
                    <a class="navbar-item is-hoverable" href="/pages/about/">
                        
                        <span class="icon has-text-primary">
                            <i class="fas fa-address-card has-text-success"></i>
                        </span>
                        
                        <span>
                            About
                        </span>
                        
                    </a>
                    
                </div>
            </div>
            <div class="navbar-end">
                <div class="navbar-item">
                    <div class="field control">
                        <div class="control has-icons-left">
                            <form id="search" method="get" role="search">
                                <input class="input" type="search" id="search-input" placeholder="Search">
                                <span class="icon is-small is-left">
                                    <i class="fas fa-search"></i>
                                </span>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
    </nav>

    <div class="columns is-mobile" style="height: 10px; padding: 0; margin: 0;">
        <div class="column has-background-black" style="margin: 0; padding: 0;"></div>
        <div class="column has-background-success" style="margin: 0; padding: 0;"></div>
        <div class="column has-background-link" style="margin: 0; padding: 0;"></div>
        <div class="column has-background-warning" style="margin: 0; padding: 0;"></div>
        <div class="column has-background-danger" style="margin: 0; padding: 0;"></div>
        <div class="column has-background-info" style="margin: 0; padding: 0;"></div>
    </div>
</div>

    <div class="container">
        <div class="is-search-result">
            



<div class="box mt-5 has-background-white">
    <article>

        




<div class="content">
    <hr class="mt-0 mb-0">
    
    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-calendar"></i>
        </span>
        <span>September 14, 2012</span>
    </span>
    

    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-stopwatch"></i>
        </span>
        <span>1 minutes and
            7 seconds read</span>
    </span>
    <hr class="mt-0 mb-0">
</div>

        <div class="content">
            <h2><a href="https://mpas.github.io/posts/2012/09/14/20120914-installing-vimball-plugins-using-pathogen/">Installing Vimball plugins when using Pathogen</a></h2>
            <p>No need to discuss that <a href="http://www.vim.org/">Vim</a> is truly a great text editor. Wealth of features, great speed and extensive support for plugins. The installation of plugins is very easy. If you want to learn how to install plugins, make sure to check out the <a href="http://www.installationwiki.org/Installing_Vim_Scripts">wiki</a>.</p>
<h4 id="pathogen">Pathogen</h4>
<p>When you instal a plugin one may copy the files to the plugin directory. In a later stage you also want to delete a plugin and then the hunt for files starts. You need to track down which files belong to the specific plugin you want to delete. <a href="http://tammersaleh.com/posts/the-modern-vim-config-with-pathogen">Pathogen</a> to the rescue :)</p>
<p>Pathogen enables you to create sub-folders inside a bundle-folder which will acts a place holder for all your plugins nicely separated in a ‘folder per plugin’ structure. So if you need to delete a plugin then you just delete the correct plugin-folder and everything is gone.</p>
<p>Normal installation of a Vim script is standard, you create a sub-folder below the bundle-folder, copy the Vim script and all is ok. BUT when you want to use a <a href="http://www.vim.org/scripts/script.php?script_id=1502">vimball</a> then you need to do some additional steps.</p>
<ul>
<li>Create a folder in which you want to later on extract the vimball. Preferably below the ‘bundle’ folder.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>mkdir ~/.vim/bundle/align
</span></span><span style="display:flex;"><span>```console
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>* Open the vimball with command ‘:e &#39;location of your vimball’/‘name of your vimball&#39;
</span></span><span style="display:flex;"><span>```console
</span></span><span style="display:flex;"><span>:e ~/Downloads/Align.vba
</span></span></code></pre></div><ul>
<li>Tell Vim to use the vimball by issuing command ‘:UseVimball &rsquo;location to extract’'</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>:UseVimball ~/.vim/bundle/align
</span></span></code></pre></div><ul>
<li>Restart your Vim and your plugin should be available.</li>
</ul>

        </div>

        <div class="content">
    <hr class=" mt-0 mb-0">

    

    
    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-tag"></i>
        </span>
        <span>
            
            <a class="is-link" href="/tags/vim/">vim</a>, 
            <a class="is-link" href="/tags/pathogen/">pathogen</a>
        </span>
    </span>
    

    <hr class="mt-0 mb-0">
</div>


    </article>
</div>


<div class="box mt-5 has-background-white">
    <article>

        




<div class="content">
    <hr class="mt-0 mb-0">
    
    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-calendar"></i>
        </span>
        <span>September 13, 2012</span>
    </span>
    

    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-stopwatch"></i>
        </span>
        <span>0 minutes and
            44 seconds read</span>
    </span>
    <hr class="mt-0 mb-0">
</div>

        <div class="content">
            <h2><a href="https://mpas.github.io/posts/2012/09/13/20120913-installing-markdown-on-osx-use-it-inside-vim/">Installing Markdown on OSX and use it inside VIM</a></h2>
            <p>Back again to one of my favorites which is called <a href="http://daringfireball.net/projects/markdown/">Markdown</a>. Once every now and then i forget how easy it is. Normally i use <a href="http://macromates.com/">Textmate</a> to do all my writing, but recently i have picked up <a href="http://www.vim.org/">VIM</a> to do some editing etc. Why i did chose VIM? I will not trouble you with that decision :)</p>
<p>Using Textmate everything is easy, but when you want to use Markdown inside VIM it is somewhat different. But anything is different when using VIM :)</p>
<h4 id="steps">Steps</h4>
<ul>
<li>download Markdown from - <a href="http://daringfireball.net/projects/markdown/">The home of Markdown</a>, It’s usual place as this is a Perl script you need to put it somewhere so OSX is able to execute it.</li>
<li>start your terminal and create a directory inside <code>usr/local/bin</code></li>
<li>extract the downloaded file and put the <code>Markdown.pl</code> file * inside the <code>user/local/bin</code> directory</li>
<li>inside the terminal chmod the <code>Markdown.pl</code> to 777</li>
<li>using the <a href="http://gothick.org.uk/2010/08/04/installing-markdown-as-a-os-x-service-using-automator-in-snow-leopard/">Installing Markdown as OSX Service</a> creates a service to use Markdown</li>
<li>You are done… :)</li>
</ul>

        </div>

        <div class="content">
    <hr class=" mt-0 mb-0">

    

    
    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-tag"></i>
        </span>
        <span>
            
            <a class="is-link" href="/tags/vim/">vim</a>, 
            <a class="is-link" href="/tags/markdown/">markdown</a>, 
            <a class="is-link" href="/tags/osx/">osx</a>
        </span>
    </span>
    

    <hr class="mt-0 mb-0">
</div>


    </article>
</div>


<div class="box mt-5 has-background-white">
    <article>

        




<div class="content">
    <hr class="mt-0 mb-0">
    
    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-calendar"></i>
        </span>
        <span>September 12, 2012</span>
    </span>
    

    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-stopwatch"></i>
        </span>
        <span>0 minutes and
            10 seconds read</span>
    </span>
    <hr class="mt-0 mb-0">
</div>

        <div class="content">
            <h2><a href="https://mpas.github.io/posts/2012/09/12/20120912-introduction-groovy-and-grails/">Introduction to Groovy &amp; Grails</a></h2>
            <p>Recently i had the opportunity to show an exciting crowd a presentation about <a href="http://groovy.codehaus.org/">Groovy</a> &amp; <a href="http://www.grails.org/">Grails</a>.</p>
<p>This happend during the <a href="http://www.devnology.nl/">Devnology</a> Community Event at Baarn. If you want to view the presentation &ndash;&gt; <a href="http://slidesha.re/cfL3eH">check it out here!</a></p>

        </div>

        <div class="content">
    <hr class=" mt-0 mb-0">

    

    
    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-tag"></i>
        </span>
        <span>
            
            <a class="is-link" href="/tags/grails/">grails</a>, 
            <a class="is-link" href="/tags/presentation/">presentation</a>
        </span>
    </span>
    

    <hr class="mt-0 mb-0">
</div>


    </article>
</div>


<div class="box mt-5 has-background-white">
    <article>

        




<div class="content">
    <hr class="mt-0 mb-0">
    
    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-calendar"></i>
        </span>
        <span>September 11, 2012</span>
    </span>
    

    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-stopwatch"></i>
        </span>
        <span>0 minutes and
            23 seconds read</span>
    </span>
    <hr class="mt-0 mb-0">
</div>

        <div class="content">
            <h2><a href="https://mpas.github.io/posts/2012/09/11/20120911-grails-change-default-homepage/">Change default homepage for a Grails application</a></h2>
            <p>You can set the default homepage for a Grails application by modifying the <code>grails-app/conf/UrlMappings.groovy</code> file. In a new Grails application this file will look like</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-groovy" data-lang="groovy"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">UrlMappings</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> mappings <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;/$controller/$action?/$id?&#34;</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            constraints <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// apply constraints here
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;/&#34;</span><span style="color:#f92672">(</span>view:<span style="color:#e6db74">&#34;/index&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;500&#34;</span><span style="color:#f92672">(</span>view:<span style="color:#e6db74">&#39;/error&#39;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>Replace the line:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-groovy" data-lang="groovy"><span style="display:flex;"><span><span style="color:#e6db74">&#34;/&#34;</span><span style="color:#f92672">(</span>view:<span style="color:#e6db74">&#34;/index&#34;</span><span style="color:#f92672">)</span>
</span></span></code></pre></div><p>with:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-groovy" data-lang="groovy"><span style="display:flex;"><span><span style="color:#e6db74">&#34;/&#34;</span><span style="color:#f92672">(</span>controller:<span style="color:#e6db74">&#39;home&#39;</span><span style="color:#f92672">,</span> action:<span style="color:#e6db74">&#34;/index&#34;</span><span style="color:#f92672">)</span>
</span></span></code></pre></div><p>This will result in the fact that when you start your Grails application and you enter the URL for your application it will trigger the <strong>HomeController</strong> and corresponding <strong>index</strong> action related to that controller.</p>

        </div>

        <div class="content">
    <hr class=" mt-0 mb-0">

    

    
    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-tag"></i>
        </span>
        <span>
            
            <a class="is-link" href="/tags/grails/">grails</a>
        </span>
    </span>
    

    <hr class="mt-0 mb-0">
</div>


    </article>
</div>


<div class="box mt-5 has-background-white">
    <article>

        




<div class="content">
    <hr class="mt-0 mb-0">
    
    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-calendar"></i>
        </span>
        <span>September 10, 2012</span>
    </span>
    

    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-stopwatch"></i>
        </span>
        <span>3 minutes and
            22 seconds read</span>
    </span>
    <hr class="mt-0 mb-0">
</div>

        <div class="content">
            <h2><a href="https://mpas.github.io/posts/2012/09/10/20120910-functional-code-coverage-using-cobertura/">Funcional Code Coverage using Cobertura</a></h2>
            <p>So assume you are assigned to a JEE/Web project with no written functional requirements, no technical design, no functional and unit tests and even no business process description. Sounds really hopeless, but it is your responsibility to learn the system and make adjustments to it. Does this sound familiar?? Hopefully not :) But every now and then this scenario seems to happen.</p>
<p>One can start to complain :), stop working on the project or even better master the concept of <a href="http://se-radio.net/podcast/2009-11/episode-148-software-archaeology-dave-thomas">Software Archeology</a>. An additional thing is to adopt the use of <a href="http://cobertura.sourceforge.net/">Cobertura</a> a code coverage tool which can easily be used to track down Functional Code Coverage. Normally the concept of Code Coverage is used to identify what code is executed during development and test phase. This to give an indication on how much code you cover with your testing strategy (often unit testing). This is <strong>IMHO</strong> something you will always want to know! But in the case you do not have unit tests or creating them is impossible due to the technical/organisational nature of the project, you can rely on creating functional tests and still track down the &lsquo;functional&rsquo; coverage with tools like <a href="http://cobertura.sourceforge.net/">Cobertura</a> (or alternatives like <a href="http://emma.sourceforge.net/">Emma</a>).</p>
<p><strong>This tackles several problems:</strong><br>
You are creating functional tests which can be used for regression testing
You are creating awareness on how little is tested or is known about the system
Note: By functional testing we mean that we are going to test via the Web layer of the JEE project To see an example on how the reporting looks like, check out this <a href="http://cobertura.sourceforge.net/sample/">sample</a> report!</p>
<h4 id="how-to-get-code-coverage-information">How to get Code Coverage information</h4>
<p><strong>General process:</strong></p>
<ul>
<li>Compile your software</li>
<li>Instrument the compiled code</li>
<li>Deploy your instrumented code and start the application</li>
<li>Use the application or run automated functional tests</li>
<li>Shutdown the application</li>
<li>Generate your Code Coverage reports</li>
<li>no step 7! All done :)</li>
</ul>
<p>The remaining part of this article is going to describe how you can get Functional Code Coverage information in the process of continously building, deploying and testing your software. Some elements are not explained due to the fact that other extensive information is given somewhere else on the web!</p>
<h4 id="compile-instrument-and-build">Compile, Instrument and Build</h4>
<p>The <a href="http://maven.apache.org/">Maven</a> project enables you to build your software with great ease. Giving a few simple commands makes it able to build a project, deploy it and even integrate it with tools and technologies such as  Cobertura. There is a even a <a href="http://mojo.codehaus.org/cobertura-maven-plugin/">Cobertura Maven</a> Plugin to easily use <a href="http://cobertura.sourceforge.net/">Cobertura</a> in a <a href="http://maven.apache.org/">Maven</a> build. We need to use Cobertura in the build phase because it will instrument the compiled code and generate a small file called &lsquo;cobertura.ser&rsquo; which is used as a kind of database that stores each call to a piece of code. The instrumented code and the database file are crucial because they contains all information needed to generate code coverage reports later on.</p>
<h4 id="run-and-test">Run and Test</h4>
<p>After the code is succesfully instrumented you may deploy the build artifacts together with the &lsquo;cobertura.ser&rsquo; file inside a JBoss JEE container and run your application.</p>
<p>Note: In our project we used <a href="http://www.jboss.org/">JBoss</a> but offcourse you can use other application servers!</p>
<p>The <a href="http://jakarta.apache.org/jmeter/">JMeter</a> project delivers an excellent tooling and technology which enables you to record your functional flow and lets you replay a scenario which was recorded earlier on. For more information on <a href="http://jakarta.apache.org/jmeter/">JMeter</a> recording and usage, please check the <a href="http://jakarta.apache.org/jmeter/">JMeter</a> project. But for now lets assume you have created a couple of functional tests, so you can execute them.</p>
<h4 id="generate-coverage-reports">Generate coverage reports</h4>
<p>After the functional tests have been executed, the modified database file &lsquo;cobertura.ser&rsquo; can be collected and reports can be generated. Cobertura has some nice predefined reporting templates. After these stepes you should have inisight on what code is actually executed during a functional flow and this may contribute to your understanding of the application.</p>
<h4 id="not-once-but-do-it-always">Not once but do it always!</h4>
<p>The process of compiling, instrumenting, deploying, testing and reporting can be fully automatized. The famous Hudson comes to the rescue! When corectly implemented Hudson will serve you all information that you need on the moments you need it!</p>
<h4 id="tools--technologies">Tools &amp; Technologies</h4>
<p>The folowing list provides information on the tools that are used:</p>
<ul>
<li><a href="http://maven.apache.org/">Maven</a> -&gt; used info for compiling and instrumenting your code (alternative to <a href="http://ant.apache.org/">Ant</a>)</li>
<li><a href="http://cobertura.sourceforge.net/">Cobertura</a> -&gt; used to get Code Coverage information</li>
<li><a href="http://www.jboss.org/">JBoss</a> -&gt; used for running a JEE project</li>
<li><a href="http://jakarta.apache.org/jmeter/">JMeter</a> -&gt; used to record and playback functional tests</li>
<li><a href="http://hudson-ci.org/">Hudson</a> -&gt; used to automatically build &amp; test your software</li>
</ul>

        </div>

        <div class="content">
    <hr class=" mt-0 mb-0">

    

    
    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-tag"></i>
        </span>
        <span>
            
            <a class="is-link" href="/tags/coverage/">coverage</a>, 
            <a class="is-link" href="/tags/testing/">testing</a>, 
            <a class="is-link" href="/tags/cobertura/">cobertura</a>, 
            <a class="is-link" href="/tags/continous-integration/">continous integration</a>, 
            <a class="is-link" href="/tags/hudson/">hudson</a>, 
            <a class="is-link" href="/tags/jenkins/">jenkins</a>, 
            <a class="is-link" href="/tags/ssh/">ssh</a>
        </span>
    </span>
    

    <hr class="mt-0 mb-0">
</div>


    </article>
</div>


<div class="box mt-5 has-background-white">
    <article>

        




<div class="content">
    <hr class="mt-0 mb-0">
    
    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-calendar"></i>
        </span>
        <span>September 9, 2012</span>
    </span>
    

    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-stopwatch"></i>
        </span>
        <span>6 minutes and
            7 seconds read</span>
    </span>
    <hr class="mt-0 mb-0">
</div>

        <div class="content">
            <h2><a href="https://mpas.github.io/posts/2012/09/09/20120909-distributed-deployment-with-hudson-and-ssh/">Distributed Deployment with Hudson &amp; SSH</a></h2>
            <p>Have you already implemented an multi-server artifact deployment using a <a href="http://en.wikipedia.org/wiki/Continuous_integration">Continuous Integration</a> Engine? If not, then read ahead and maybe this article is of help.</p>
<h4 id="the-need-for-continuous-integration">The need for Continuous Integration</h4>
<p>A good practice in a software development methodology and lifecycle is the use of a <a href="http://en.wikipedia.org/wiki/Continuous_integration">Continuous Integration</a> Engine. The adoption of <a href="http://en.wikipedia.org/wiki/Continuous_integration">Continuous Integration</a> improves you software quality by quickly reporting failed builds so you can modify/correct your code. Popular Continuous Integration Engines can often be extended with software quality tooling so you can report on specific quality aspect of your software.</p>
<p>Thus informing developers and even other people who take an interest in the status of the latest build. <strong>IMHO</strong> a failed build can also be identified as code that compiles but that does not meet the quality standards set by your organization. You are off-course totally free in defining what in your opinion a failed build actually means!</p>
<p>A good build compiles, quality requirements have been met and automatic functional and unit testing has been successful.</p>
<p>There a few popular <a href="http://en.wikipedia.org/wiki/Continuous_integration">Continuous Integration</a> Engines available:</p>
<ul>
<li><a href="http://hudson-ci.org/">Hudson Extensible Continuous Integration Server</a></li>
<li><a href="http://cruisecontrol.sourceforge.net/">CruiseControl</a></li>
<li><a href="http://www.atlassian.com/software/bamboo/">Bamboo</a></li>
</ul>
<p>Probably there a some more, but for me needs the [Hudson Extensible Continuous Integration Server] works perfect.</p>
<h4 id="my-needs">My needs</h4>
<p>My Continuous Integration Engine:</p>
<ul>
<li>Must support multiple programming languages Java/.Net/Ruby</li>
<li>Runs on multiple operating systems (Windows/Mac/Linux)</li>
<li>Pluggable in the sense that there must be integration with for example JUnit, JMeter, Cobertura, Checkstyle etc.</li>
<li>Must be able to send out notifications using email, twitter, Instant Messaging</li>
<li>Seemless integration with CVS/SubVersion and GIT</li>
<li>Simple and easy Configuration</li>
<li>Must support timed builds &amp; trigger builds from <a href="http://en.wikipedia.org/wiki/Revision_control">SCM</a> commits</li>
<li>Maintain a link between modified code and</li>
<li>and some more..</li>
</ul>
<p>All of these requirements and more have been succesfully fulfilled by using <a href="http://hudson-ci.org/">Hudson</a></p>
<h4 id="hudson-and-automatic-deployment">Hudson and automatic deployment</h4>
<p>In every project a recurring problem arises, artifacts of a software build have to be distributed accross different servers and environments. How are the build artifacts going to be distributed and deployed? Why not let the <a href="http://hudson-ci.org/">Hudson</a> server give a helping hand!!</p>
<h4 id="deployment-scenario">Deployment Scenario</h4>
<p>In the following scenario we will be distributing build artifacts from a central Hudson server to three different <a href="http://www.jboss.org/">JBoss</a> application servers al running Windows 2003 Server as Operating System. Next to the <a href="http://hudson-ci.org/">Hudson</a> server we have a <a href="http://subversion.tigris.org/">Subversion</a> system which is used for <a href="http://en.wikipedia.org/wiki/Revision_control">SCM</a> purposes.</p>
<h4 id="distribution-of-build-artifacts">Distribution of build artifacts</h4>
<p>After a succesfull build, the artifacts have to be distributed to remote machines. Offcourse the latest code has been checked out from the SVN repository, compiled and tested. The distribution of the artifacts can be done in various ways. One can use Ftp, shared folders, SCM checkin etc..</p>
<p>For me the most easiest way to distribute build artifacts is using <a href="http://en.wikipedia.org/wiki/Secure_Shell">Secure Shell access aka SSH</a>. This is a secure and a standardized manner for distribution. Lets assume we have the build artifacts somewhere on our <a href="http://hudson-ci.org/">Hudson</a> server, we need a way of transfering them using <a href="http://en.wikipedia.org/wiki/Secure_Shell">SSH</a> to a remote machine.</p>
<p>To accomplish this we need SSH access to the remote machine. With the help off <a href="http://www.itefix.no/i2/node/27">CopSSH</a> installing SSH is a breeze!</p>
<h4 id="prepare-for-installation-of-ssh">Prepare for installation of SSH</h4>
<p>Prepare yourself by downloading:</p>
<ul>
<li><a href="http://www.itefix.no/i2/node/27">CopSSH</a> – <a href="http://en.wikipedia.org/wiki/Secure_Shell">SSH</a> service for Windows</li>
<li><a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">Putty</a> – <a href="http://en.wikipedia.org/wiki/Secure_Shell">SSH</a> client (used for connection to the SSH service)</li>
<li><a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">PSCP</a> – <a href="http://en.wikipedia.org/wiki/Secure_Shell">SSH</a> client for file transfer</li>
<li><a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">Plink</a> – <a href="http://en.wikipedia.org/wiki/Secure_Shell">SSH</a> client for executing remote commands</li>
</ul>
<h4 id="installing-and-enable-remote-access-using-ssh">Installing and enable remote access using SSH</h4>
<ul>
<li>Install <a href="http://www.itefix.no/i2/node/27">CopSSH</a> on the remote system</li>
<li>On the remote system enable a user for <a href="http://en.wikipedia.org/wiki/Secure_Shell">SSH</a> access, see the installation guide of CopSSH</li>
<li>Start <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">Putty</a> on your local machine</li>
<li>Using Putty connect to the remote system and exchange security credentials</li>
</ul>
<p>You are now officially ready to remotely access the system using SSH
If you want to enable the Hudson server to access the remote system, start Putty on the Hudson server and repeat step 4!</p>
<p><strong>Note</strong>: Make sure that your Hudson uses the same credentials then the account in which you exchange security credentials, otherwise remote access from Hudson server to the remote system will not work!</p>
<h4 id="execute-remote-commands-and-exchange-files-using-ssh">Execute remote commands and Exchange files using SSH</h4>
<p>If you can succesfully access the remote server using Putty, it is time to exchange files or execute remote commands. This can be done by using 2 small commandline utilities called PSCP for file transfer and Plink for executing remote commands such as remotely deleting files etc.</p>
<p>Make sure these are in you PATH settings so you can execute them everywhere!</p>
<p>Examples for executing a remote command (substitute the %parameters% with your own ones)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>#create a directory
</span></span><span style="display:flex;"><span>plink -batch -pw %PASSWORD% %USERNAME%@%HOSTNAME%  mkdir C:/tmp
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>#delete a directory
</span></span><span style="display:flex;"><span>plink -batch -pw %PASSWORD% %USERNAME%@%HOSTNAME%  rm -rf C:/tmp
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>#stop a windows service
</span></span><span style="display:flex;"><span>plink -batch -pw %PASSWORD% %USERNAME%@%HOSTNAME%  net stop %SERVICENAME%
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>#upload a file
</span></span><span style="display:flex;"><span>pscp -pw %PASSWORD% %SOURCE% %USERNAME%@%HOSTNAME%:%DESTINATION%
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>#upload multiple files
</span></span><span style="display:flex;"><span>pscp -pw %PASSWORD% %SOURCE%\*.* %USERNAME%@%HOSTNAME%:%DESTINATION%
</span></span></code></pre></div><h4 id="the-return-of-the-bat-file">The return of the .bat file</h4>
<p>So far we have enabled remote access using SSH / CopSSH, executed remote commands and transferred files. All the needed ingredients are in place to enable our Hudson server to remotely deploy build artifacts. In the job configuration of Hudson you can trigger a batch file after a succesfull build, so whenever a succesfull build occurs trigger a batch that executes a few commands to quickly deploy build artifacts to any number of remote servers.</p>
<p>In our case all deployment artifacts are copied to a central directory per project. So if we need to deploy a build, we can copy parts or the whole directory contents to a remote server.</p>
<p>To give an example see the following batch files: Main example for a batchfile that triggers stopping of the remote Windows Services gives the instruction on which files need to be remotely deployed and start the services again.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-batch" data-lang="batch"><span style="display:flex;"><span>-&gt; filename = upload-project-to-development.bat
</span></span><span style="display:flex;"><span>@<span style="color:#66d9ef">CLS</span>
</span></span><span style="display:flex;"><span>@<span style="color:#66d9ef">ECHO</span> OFF
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SET</span> USERNAME=%1
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SET</span> PASSWORD=%2
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SET</span> HOSTNAME=%3
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SET</span> JBOSSDIR=%4
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SET</span> SOURCEDIR=%5
</span></span><span style="display:flex;"><span>@<span style="color:#66d9ef">ECHO</span> : - start upload procedure
</span></span><span style="display:flex;"><span>@<span style="color:#66d9ef">ECHO</span> : -- stopping servers
</span></span><span style="display:flex;"><span>@plink -batch -pw %PASSWORD% %USERNAME%@%HOSTNAME% net stop JBoss
</span></span><span style="display:flex;"><span>@<span style="color:#66d9ef">ECHO</span> : -- uploading files CALL upload-files.bat %USERNAME% %PASSWORD% %HOSTNAME% %JBOSSDIR% %SOURCEDIR%\*.*
</span></span><span style="display:flex;"><span>@<span style="color:#66d9ef">ECHO</span> : -- starting servers
</span></span><span style="display:flex;"><span>@plink -batch -pw %PASSWORD% %USERNAME%@%HOSTNAME% net start JBoss
</span></span><span style="display:flex;"><span>@<span style="color:#66d9ef">ECHO</span> : - finished upload procedure
</span></span></code></pre></div><p>The above script can be called easily by the Hudson server after a succesfull deployment.</p>
<p><strong>example:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>upload-project-to-development scott tiger 10.0.0.100 d:/java/server/jboss-v5.0 d:/build_artifacts/projectx
</span></span></code></pre></div><p><strong>The example above:</strong></p>
<ul>
<li>Stops the JBoss server on the 10.0.0.100 host</li>
<li>Passes some parameters to a file called “upload-files.bat” script</li>
<li>Starts the JBoss servers again</li>
</ul>
<p>The script that executes the actual maintenance and uploads is the “upload-files.bat file”. All parameters are passed in by the calling script.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-batch" data-lang="batch"><span style="display:flex;"><span>-&gt; filename = upload-files.bat
</span></span><span style="display:flex;"><span>@<span style="color:#66d9ef">ECHO</span> OFF
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SET</span> USERNAME=%1
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SET</span> PASSWORD=%2
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SET</span> HOSTNAME=%3
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SET</span> JBOSSDIR=%4
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SET</span> SOURCE=%5
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SET</span> DESTINATION=%JBOSSDIR%/deploy
</span></span><span style="display:flex;"><span>@<span style="color:#66d9ef">ECHO</span>  : - %HOSTNAME% - starting file copy
</span></span><span style="display:flex;"><span>@<span style="color:#66d9ef">ECHO</span>  : -- %HOSTNAME% - deleting JBOSS tmp
</span></span><span style="display:flex;"><span>@plink -batch -pw %PASSWORD% %USERNAME%@%HOSTNAME% rm -rf %JBOSSDIR%/tmp
</span></span><span style="display:flex;"><span>@plink -batch -pw %PASSWORD% %USERNAME%@%HOSTNAME% mkdir %JBOSSDIR%/tmp
</span></span><span style="display:flex;"><span>@<span style="color:#66d9ef">ECHO</span>  : -- %HOSTNAME% - deleting JBOSS work
</span></span><span style="display:flex;"><span>@plink -batch -pw %PASSWORD% %USERNAME%@%HOSTNAME% rm -rf %JBOSSDIR%/work
</span></span><span style="display:flex;"><span>@plink -batch -pw %PASSWORD% %USERNAME%@%HOSTNAME% mkdir %JBOSSDIR%/work
</span></span><span style="display:flex;"><span>@<span style="color:#66d9ef">ECHO</span>  : -- %HOSTNAME% - deleting previous ears + jars
</span></span><span style="display:flex;"><span>@plink -batch  -pw %PASSWORD% %USERNAME%@%HOSTNAME% rm %JBOSSDIR%/deploy/*.ear
</span></span><span style="display:flex;"><span>@plink -batch  -pw %PASSWORD% %USERNAME%@%HOSTNAME% rm %JBOSSDIR%/deploy/*.jar
</span></span><span style="display:flex;"><span>@<span style="color:#66d9ef">ECHO</span>  : -- %HOSTNAME% - copy remote files
</span></span><span style="display:flex;"><span>@pscp -pw %PASSWORD% %SOURCE% %USERNAME%@%HOSTNAME%:%DESTINATION%
</span></span><span style="display:flex;"><span>@<span style="color:#66d9ef">ECHO</span>  : - %HOSTNAME% - finishing file copy
</span></span></code></pre></div><p><strong>The example above:</strong></p>
<ul>
<li>Removes the JBoss tmp &amp; work directory</li>
<li>Removes artifacts from previous builds</li>
<li>Copies the artifacts to the remote JBoss deploy directory</li>
</ul>
<h4 id="steps-taken">Steps taken</h4>
<p>So the list of tasks executed by calling the batch files with the correct parameters are:</p>
<ul>
<li>Stopping the remote JBoss server</li>
<li>Removing the remote JBoss tmp &amp; work directories</li>
<li>Removing the remote JBoss artifacts from previous deployments</li>
<li>Copy files to the remote JBoss server</li>
<li>Starting the JBoss server again</li>
</ul>
<h4 id="from-build-to-deployment">From build to deployment</h4>
<p>So with a quick installation of SSH/Putty/Plink/PSCP we now have a modular and easy way of distributing files to remote systems. Offcourse there are lots of improvements to make, but for now it works without any problems!</p>
<p>The given examples can be easily modified so that after a succesfull build the artifact deployment to all of your servers can be done in a very simple and easy way.
Notes</p>

        </div>

        <div class="content">
    <hr class=" mt-0 mb-0">

    

    
    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-tag"></i>
        </span>
        <span>
            
            <a class="is-link" href="/tags/deployment/">deployment</a>, 
            <a class="is-link" href="/tags/continous-integration/">continous integration</a>, 
            <a class="is-link" href="/tags/hudson/">hudson</a>, 
            <a class="is-link" href="/tags/ssh/">ssh</a>
        </span>
    </span>
    

    <hr class="mt-0 mb-0">
</div>


    </article>
</div>


<div class="box mt-5 has-background-white">
    <article>

        




<div class="content">
    <hr class="mt-0 mb-0">
    
    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-calendar"></i>
        </span>
        <span>September 5, 2012</span>
    </span>
    

    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-stopwatch"></i>
        </span>
        <span>0 minutes and
            25 seconds read</span>
    </span>
    <hr class="mt-0 mb-0">
</div>

        <div class="content">
            <h2><a href="https://mpas.github.io/posts/2012/09/05/20120905-grails-replace-in-memory-db-with-mysql/">Using MySQL instead of in-memory database for a Grails application</a></h2>
            <p>A Grails application by default uses a in-memory HSQL database. To switch to a MySQL database the steps are simple and straightforward.</p>
<ul>
<li>Download the MySQL JDBC driver [called a connector] from the MySQL website</li>
<li>Extract the zip or tar archive</li>
<li>Copy the driver (at this time of writing called <code>mysql-connector-java-5.1.13-bin.jar</code> into the <code>grails-app/lib</code> directory</li>
<li>Configure your application datasource in file <code>grails-app/conf/DataSource.groovy</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-groovy" data-lang="groovy"><span style="display:flex;"><span>development <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    dataSource <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>       dbCreate <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;create-drop&#34;</span> <span style="color:#75715e">// one of &#39;create&#39;, &#39;create-drop&#39;,&#39;update&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>       url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;jdbc:mysql://localhost:&lt;port&gt;/&lt;database&gt;&#34;</span>
</span></span><span style="display:flex;"><span>       driverClassName <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;com.mysql.jdbc.Driver&#34;</span>
</span></span><span style="display:flex;"><span>       port <span style="color:#f92672">=</span>  <span style="color:#75715e">// default 3306
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>       username <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&lt;username&gt;&#34;</span>
</span></span><span style="display:flex;"><span>       password <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&lt;password&gt;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div>
        </div>

        <div class="content">
    <hr class=" mt-0 mb-0">

    

    
    <span class="icon-text">
        <span class="icon">
            <i class="fas fa-tag"></i>
        </span>
        <span>
            
            <a class="is-link" href="/tags/grails/">grails</a>, 
            <a class="is-link" href="/tags/mysql/">mysql</a>
        </span>
    </span>
    

    <hr class="mt-0 mb-0">
</div>


    </article>
</div>




<div class="box">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        

        
        
        <a class="pagination-previous" href="https://mpas.github.io/page/3">
            <span class="icon-text">
                <span class="icon">
                    <i class="fas fa-arrow-left"></i>
                </span>
                <span>Newer Posts</span>
            </span>
        </a>
        

        
        <a class="pagination-next is-disabled">
            <span class="icon-text">
                <span class="icon">
                    <i class="fas fa-arrow-right"></i>
                </span>
                <span>Older Posts</span>
            </span>
        </a>
        
        
        


        <ul class="pagination-list">
            <li><a class="pagination-link" href="https://mpas.github.io" aria-label="Home">
                    <span class="icon-text">
                        <span class="icon">
                            <i class="fas fa-home"></i>
                        </span>
                        <span>Home</span>
                    </span>
                </a>
            </li>
        </ul>
    </nav>
</div>


        </div>
    </div>

    
    <template id="is-search-template" hidden>
        <article class="content">
            <div>
                <hr class="mt-0 mb-0">
                <span class="icon-text">
                    <span class="icon">
                        <i class="fas fa-calendar"></i>
                    </span>
                    <span>
                        <div class="date"></div>
                    </span>
                </span>
                <span class="icon-text">
                    <span class="icon">
                        <i class="fas fa-tag"></i>
                    </span>
                    <span>
                        <div class="tags"></div>
                    </span>
                </span>
                <hr class="mt-0 mb-0">
            </div>
            <div>
                <h5 class="mt-2">
                    <a class="is-read-more" href=""></a>
                </h5>
                <div class="summary"></div>
            </div>
        </article>
    </template>
    <footer class="footer">
    <div class="content has-text-centered">
        <p>Lets connect on:</p>
        <p>
            <span class="icon-text">
                <span class="icon">
                    <i class="fab fa-twitter"></i>
                </span>
                <span><a href="https://twitter.com/marcopas">Twitter</a></span>
            </span>
            <span class="icon-text">
                <span class="icon">
                    <i class="fab fa-stack-overflow"></i>
                </span>
                <span><a href="http://stackoverflow.com/users/185432/marco">StackOverflow</a></span>
            </span>
            <span class="icon-text">
                <span class="icon">
                    <i class="fab fa-linkedin"></i>
                </span>
                <span><a href="">LinkedIn</a></span>
            </span>
            <span class="icon-text">
                <span class="icon">
                    <i class="fab fa-github"></i>
                </span>
                <span><a href="https://github.com/mpas">GitHub</a></span>
            </span>
            <span class="icon-text">
                <span class="icon">
                    <i class="fas fa-envelope"></i>
                </span>
                <span><a href="mailto:marco.pasopas@gmail.com">Email</a></span>
            </span>
        </p>
    </div>
</footer>
<script src="/js/search.js"></script>

    <script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
    <script>addBackToTop({
            diameter: 56,
            backgroundColor: 'rgb(255, 82, 82)',
            textColor: '#fff'
        })</script>
    <script src="/js/navbar.js"></script>
</body>

</html>